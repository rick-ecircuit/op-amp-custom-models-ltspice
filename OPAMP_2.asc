Version 4
SHEET 1 2028 888
WIRE -432 48 -480 48
WIRE -320 48 -432 48
WIRE -208 48 -240 48
WIRE -16 48 -208 48
WIRE 112 48 -16 48
WIRE 304 48 112 48
WIRE 400 48 352 48
WIRE 496 48 400 48
WIRE 640 48 576 48
WIRE -432 80 -432 48
WIRE -240 96 -240 48
WIRE -16 96 -16 48
WIRE 352 96 352 48
WIRE -320 112 -320 48
WIRE -288 112 -320 112
WIRE 112 112 112 48
WIRE 304 112 304 48
WIRE -288 160 -320 160
WIRE -432 224 -432 160
WIRE -432 224 -480 224
WIRE -320 224 -320 160
WIRE -320 224 -432 224
WIRE -240 224 -240 176
WIRE -16 224 -16 176
WIRE -16 224 -240 224
WIRE 112 224 112 176
WIRE 112 224 -16 224
WIRE 208 224 112 224
WIRE 304 224 304 160
WIRE 304 224 208 224
WIRE 352 224 352 176
WIRE 352 224 304 224
WIRE 208 256 208 224
WIRE -752 384 -752 320
WIRE -752 576 -752 464
FLAG -752 576 vee
FLAG -752 320 vcc
FLAG 400 48 out1
FLAG 640 48 out
FLAG -480 48 +
FLAG -480 224 -
FLAG -208 48 vg1
FLAG 208 256 0
SYMBOL e 352 80 R0
WINDOW 0 61 34 Left 2
WINDOW 3 59 66 Left 2
SYMATTR InstName Ebuf
SYMATTR Value 1.0
SYMBOL res 592 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Ro
SYMATTR Value {Ro}
SYMBOL res -32 80 R0
SYMATTR InstName R1
SYMATTR Value {R}
SYMBOL cap 96 112 R0
WINDOW 3 40 44 Left 2
WINDOW 0 45 10 Left 2
SYMATTR Value {C}
SYMATTR InstName C1
SYMBOL res -448 64 R0
SYMATTR InstName Rin
SYMATTR Value 100e6
SYMBOL res -768 368 R0
SYMATTR InstName RM1
SYMATTR Value 1Meg
SYMBOL bi2 -240 96 R0
WINDOW 3 -8 -103 Left 2
WINDOW 0 52 24 Left 2
SYMATTR Value I = limit(  {gm}*(v(+) - v(-)), +I1max, -I1max )
SYMATTR InstName B_G1
TEXT 416 432 Left 2 ;Calculated Parameters
TEXT -16 -296 Left 2 ;Op Amp Model 2
TEXT -128 -232 Left 2 ;DC output:  v(out) = (v(+) - v(-)) * Aol
TEXT -128 -104 Left 2 ;Single Pole: fp = 1/(2*pi*R1*C1)
TEXT -128 -136 Left 2 ;Unity Gain Freq: fu = Aol*fp
TEXT 424 464 Left 2 !.param C=I1max / (slew * 1e6)
TEXT 416 344 Left 2 ;Initial Parameters
TEXT 424 560 Left 2 !.param gm=Aol/R
TEXT 424 496 Left 2 !.param fp = fu/Aol
TEXT 424 376 Left 2 !.param I1max=0.001
TEXT 424 528 Left 2 !.param R=1/(2*pi*fp*C)
TEXT 16 -200 Left 2 ;Aol = gm*R1
TEXT -128 -168 Left 2 ;Slew Max: slew = I1max / C1
